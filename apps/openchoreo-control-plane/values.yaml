# Helm values for OpenChoreo Control Plane
# VM uses .test TLD (official uses .localhost)

global:
  baseDomain: openchoreo.test
  # Port suffix for URLs (k3d maps host:8080 -> container:80)
  port: ":8080"

# Enable cluster gateway for agent-based data plane communication
clusterGateway:
  enabled: true

# Controller Manager cluster gateway configuration
# Enables controllers to communicate with data/build planes via cluster gateway
controllerManager:
  clusterGateway:
    enabled: true

thunder:
  configuration:
    server:
      publicUrl: "http://thunder.openchoreo.test:8080"
    gateClient:
      hostname: "thunder.openchoreo.test"
      port: 8080
      scheme: "http"

gateway:
  # Enable gateway
  enabled: true

  # Envoy - enabled by default for traffic routing
  envoy:
    enabled: true
    # Mount /tmp as emptyDir volume to fix Envoy temporary file creation issues
    mountTmpVolume: true
